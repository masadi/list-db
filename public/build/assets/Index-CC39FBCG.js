import{i as $,k as N,o as c,f as h,b as e,F as y,l as D,c as k,w as a,n as T,u as l,j as B,m as b,p as M,a as i,Z as P,q as E,d as m,t as r,s as w,g as x,x as F}from"./app-Bw3cCDBp.js";import{_ as A}from"./AuthenticatedLayout-Dx3NYzWI.js";import{d as C,F as I,P as g,Y as O,E as S,N as Q}from"./flowbite-vue-6AI5Yh9O.js";import"./ApplicationLogo-Md45CMIO.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const Y={class:"flex flex-wrap -mb-1"},Z=["innerHTML"],G=["innerHTML"],J={__name:"Pagination",props:{links:Array},setup(v){return(f,V)=>$((c(),h("div",null,[e("div",Y,[(c(!0),h(y,null,D(v.links,(_,u)=>(c(),h(y,{key:u},[_.url===null?(c(),h("div",{key:`${u}-disabled`,class:"mr-1 mb-1 px-4 py-3 text-sm leading-4 text-gray-400 border rounded",innerHTML:_.label},null,8,Z)):(c(),k(l(B),{key:u,class:T(["mr-1 mb-1 px-4 py-3 text-sm leading-4 border rounded hover:bg-white focus:border-indigo-500 focus:text-indigo-500",{"bg-white":_.active}]),href:_.url},{default:a(()=>[e("span",{innerHTML:_.label},null,8,G)]),_:2},1032,["class","href"]))],64))),128))])],512)),[[N,v.links.length]])}},K=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Database",-1),R={class:"py-12"},W={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},X={class:"flex justify-between"},ee={class:"mb-4 max-w-xs"},se={class:"mb-4 max-w-xs"},te={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},ae={class:"p-6 text-gray-900"},oe={class:"min-w-full divide-y divide-gray-200 table-fixed table-bordered table-striped"},ne={class:"bg-indigo-500"},le={scope:"col",class:"w-3/12 text-xs font-semibold tracking-wider text-left text-white uppercase"},ie=["onClick"],de={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},re=e("path",{d:"M3 3a1 1 0 000 2h11a1 1 0 100-2H3zM3 7a1 1 0 000 2h5a1 1 0 000-2H3zM3 11a1 1 0 100 2h4a1 1 0 100-2H3zM13 16a1 1 0 102 0v-5.586l1.293 1.293a1 1 0 001.414-1.414l-3-3a1 1 0 00-1.414 0l-3 3a1 1 0 101.414 1.414L13 10.414V16z"},null,-1),ce=[re],ue={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},pe=e("path",{d:"M3 3a1 1 0 000 2h11a1 1 0 100-2H3zM3 7a1 1 0 000 2h7a1 1 0 100-2H3zM3 11a1 1 0 100 2h4a1 1 0 100-2H3zM15 8a1 1 0 10-2 0v5.586l-1.293-1.293a1 1 0 00-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L15 13.586V8z"},null,-1),me=[pe],he=e("th",{scope:"col",class:"text-xs font-semibold tracking-wider text-left text-white uppercase"}," Action",-1),_e={class:"bg-white divide-y divide-gray-200"},fe={class:"py-4 px-6 whitespace-nowrap"},ve={class:"py-4 px-6 whitespace-nowrap"},we={class:"py-4 px-6 whitespace-nowrap"},xe={class:"py-4 px-6 whitespace-nowrap"},ge={class:"py-4 px-6 whitespace-nowrap"},ye={class:"py-4 px-6 whitespace-nowrap"},be={class:"py-4 px-6 whitespace-nowrap"},ke={class:"w-52"},Ve=e("p",{class:"p-2"},"Detail",-1),Me=["onClick"],Ce=e("p",{class:"p-2"},"Edit",-1),De=[Ce],Be=e("p",{class:"p-2"},"Delete",-1),He=e("div",{class:"flex items-center text-lg"}," Tambah Data ",-1),Se={class:"flex justify-between"},Ne={__name:"Index",props:{data:Object,errors:Object},setup(v){const f=b(!1);function V(){f.value=!1}function _(){f.value=!0}const u=b({search:"",field:"connection",direction:"asc"}),o=M({id:"",connection:"",host:"",port:"",name:"",username:"",password:""}),n=M({connection:"",host:"",port:"",name:"",username:"",password:""}),p=M({connection:"",host:"",port:"",name:"",username:"",password:""}),z=t=>{u.value.field=t,u.value.direction=u.value.direction==="asc"?"desc":"asc",console.log(t)},L=()=>{F.post("/database/add",o,{onSuccess:t=>{console.log(t),f.value=!1},onError:t=>{console.log(t),t.detail.errors&&(n.connection=t.detail.errors.connection?"error":"success",n.host=t.detail.errors.host?"error":"success",n.port=t.detail.errors.port?"error":"success",n.name=t.detail.errors.name?"error":"success",n.username=t.detail.errors.username?"error":"success",n.password=t.detail.errors.password?"error":"success",p.connection=t.detail.errors.connection,p.host=t.detail.errors.host,p.port=t.detail.errors.port,p.name=t.detail.errors.name,p.username=t.detail.errors.username,p.password=t.detail.errors.password)}})},q=t=>{console.log(t),f.value=!0,o.connection=t.connection,o.host=t.host,o.port=t.port,o.name=t.name,o.username=t.username,o.password=t.password},H=b(!1),U=b(!1);return(t,d)=>(c(),h(y,null,[i(l(P),{title:"Database"}),i(A,null,{header:a(()=>[K]),default:a(()=>[e("div",R,[e("div",W,[e("div",X,[e("div",ee,[$(e("input",{type:"search","onUpdate:modelValue":d[0]||(d[0]=s=>u.value.search=s),"aria-label":"Search",placeholder:"Search...",class:"block w-full rounded-md border-gray-300 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},null,512),[[E,u.value.search]])]),e("div",se,[i(l(C),{onClick:_},{default:a(()=>[m("Open modal: "+r(H.value),1)]),_:1})])]),e("div",te,[e("div",ae,[e("table",oe,[e("thead",ne,[e("tr",null,[(c(),h(y,null,D(["connection","host","port","name","username","password"],s=>e("th",le,[e("span",{class:"inline-flex py-3 px-6 w-full justify-between",onClick:j=>z(s)},[m(r(s)+" ",1),u.value.field===s&&u.value.direction==="asc"?(c(),h("svg",de,ce)):x("",!0),u.value.field===s&&u.value.direction==="desc"?(c(),h("svg",ue,me)):x("",!0)],8,ie)])),64)),he])]),e("tbody",_e,[(c(!0),h(y,null,D(v.data.data,(s,j)=>(c(),h("tr",{key:s.id},[e("td",fe,r(s.connection),1),e("td",ve,r(s.host),1),e("td",we,r(s.port),1),e("td",xe,r(s.name),1),e("td",ge,r(s.username),1),e("td",ye,r(s.password),1),e("td",be,[i(l(Q),{text:"Action","align-to-end":""},{default:a(()=>[e("div",ke,[i(l(B),{href:`/database/detail/${s.id}`},{default:a(()=>[Ve]),_:2},1032,["href"]),e("a",{href:"javascript:void(0)",onClick:$e=>q(s)},De,8,Me),i(l(B),{method:"delete",href:`/database/destroy/${s.id}`},{default:a(()=>[Be]),_:2},1032,["href"])])]),_:2},1024)])]))),128))])]),i(J,{class:"mt-10",links:v.data.links},null,8,["links"])])])]),f.value?(c(),k(l(O),{key:0,onClose:V,persistent:""},{header:a(()=>[He]),body:a(()=>[i(l(I),{modelValue:o.connection,"onUpdate:modelValue":d[1]||(d[1]=s=>o.connection=s),options:[{value:"mysql",name:"MySQL"},{value:"pgsql",name:"PostgreSQL"}],label:"Select DB connection","validation-status":n.connection},{validationMessage:a(()=>[m(r(p.connection),1)]),_:1},8,["modelValue","validation-status"]),i(l(g),{modelValue:o.host,"onUpdate:modelValue":d[2]||(d[2]=s=>o.host=s),required:"",placeholder:"e.g localhost or 127.0.0.1",label:"DB Host","validation-status":n.host},w({_:2},[n.host?{name:"validationMessage",fn:a(()=>[m(r(p.host),1)]),key:"0"}:void 0]),1032,["modelValue","validation-status"]),i(l(g),{modelValue:o.port,"onUpdate:modelValue":d[3]||(d[3]=s=>o.port=s),required:"",placeholder:"e.g 3306 or 5432",label:"DB Port","validation-status":n.port},w({_:2},[n.port?{name:"validationMessage",fn:a(()=>[m(r(p.port),1)]),key:"0"}:void 0]),1032,["modelValue","validation-status"]),i(l(g),{modelValue:o.name,"onUpdate:modelValue":d[4]||(d[4]=s=>o.name=s),required:"",placeholder:"e.g db_yayasan",label:"DB Name","validation-status":n.name},w({_:2},[n.name?{name:"validationMessage",fn:a(()=>[m(r(p.name),1)]),key:"0"}:void 0]),1032,["modelValue","validation-status"]),i(l(g),{modelValue:o.username,"onUpdate:modelValue":d[5]||(d[5]=s=>o.username=s),required:"",label:"DB Username","validation-status":n.username},w({_:2},[n.username?{name:"validationMessage",fn:a(()=>[m(r(p.username),1)]),key:"0"}:void 0]),1032,["modelValue","validation-status"]),i(l(g),{modelValue:o.password,"onUpdate:modelValue":d[6]||(d[6]=s=>o.password=s),required:"",label:"DB Password","validation-status":n.password},w({_:2},[n.password?{name:"validationMessage",fn:a(()=>[m(r(p.password),1)]),key:"0"}:void 0]),1032,["modelValue","validation-status"])]),footer:a(()=>[e("div",Se,[i(l(C),{onClick:V,color:"alternative"},{default:a(()=>[m(" Cancel ")]),_:1}),i(l(C),{onClick:L,color:"green"},{default:a(()=>[m(" Submit ")]),_:1})])]),_:1})):x("",!0),U.value?(c(),k(l(S),{key:1,type:"warning",class:"fixed top-5 right-5",closable:""},{default:a(()=>[m(" Improve password difficulty. ")]),_:1})):x("",!0),H.value?(c(),k(l(S),{key:2,type:"success",class:"fixed top-5 right-5",closable:""},{default:a(()=>[m(" Item moved successfully. ")]),_:1})):x("",!0)])]),_:1})],64))}};export{Ne as default};
