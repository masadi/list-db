import{i as $,k as P,o as r,f as h,b as e,F as y,l as D,c as k,w as a,n as T,u as d,j as B,m as b,p as M,a as i,Z as E,q as F,d as m,t as u,s as v,g as x,x as I}from"./app-DA6Tz4Ue.js";import{_ as A}from"./AuthenticatedLayout-9erdyMK4.js";import{d as C,F as O,P as g,Y as Q,E as S,N as Y}from"./flowbite-vue-CMd8Fozw.js";import"./ApplicationLogo-DtRvhAa5.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const Z={class:"flex flex-wrap -mb-1"},G=["innerHTML"],J=["innerHTML"],K={__name:"Pagination",props:{links:Array},setup(w){return(f,V)=>$((r(),h("div",null,[e("div",Z,[(r(!0),h(y,null,D(w.links,(_,c)=>(r(),h(y,{key:c},[_.url===null?(r(),h("div",{key:`${c}-disabled`,class:"mr-1 mb-1 px-4 py-3 text-sm leading-4 text-gray-400 border rounded",innerHTML:_.label},null,8,G)):(r(),k(d(B),{key:c,class:T(["mr-1 mb-1 px-4 py-3 text-sm leading-4 border rounded hover:bg-white focus:border-indigo-500 focus:text-indigo-500",{"bg-white":_.active}]),href:_.url},{default:a(()=>[e("span",{innerHTML:_.label},null,8,J)]),_:2},1032,["class","href"]))],64))),128))])],512)),[[P,w.links.length]])}},R=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Database",-1),W={class:"py-12"},X={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},ee={class:"flex justify-between"},se={class:"mb-4 max-w-xs"},te={class:"mb-4 max-w-xs"},ae={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},oe={class:"p-6 text-gray-900"},ne={class:"min-w-full divide-y divide-gray-200 table-fixed table-bordered table-striped"},le={class:"bg-indigo-500"},de={scope:"col",class:"w-3/12 text-xs font-semibold tracking-wider text-left text-white uppercase"},ie=["onClick"],re={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},ce=e("path",{d:"M3 3a1 1 0 000 2h11a1 1 0 100-2H3zM3 7a1 1 0 000 2h5a1 1 0 000-2H3zM3 11a1 1 0 100 2h4a1 1 0 100-2H3zM13 16a1 1 0 102 0v-5.586l1.293 1.293a1 1 0 001.414-1.414l-3-3a1 1 0 00-1.414 0l-3 3a1 1 0 101.414 1.414L13 10.414V16z"},null,-1),ue=[ce],pe={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},me=e("path",{d:"M3 3a1 1 0 000 2h11a1 1 0 100-2H3zM3 7a1 1 0 000 2h7a1 1 0 100-2H3zM3 11a1 1 0 100 2h4a1 1 0 100-2H3zM15 8a1 1 0 10-2 0v5.586l-1.293-1.293a1 1 0 00-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L15 13.586V8z"},null,-1),he=[me],_e=e("th",{scope:"col",class:"text-xs font-semibold tracking-wider text-left text-white uppercase"}," Action",-1),fe={class:"bg-white divide-y divide-gray-200"},we={class:"py-4 px-6 whitespace-nowrap"},ve={class:"py-4 px-6 whitespace-nowrap"},xe={class:"py-4 px-6 whitespace-nowrap"},ge={class:"py-4 px-6 whitespace-nowrap"},ye={class:"py-4 px-6 whitespace-nowrap"},be={class:"py-4 px-6 whitespace-nowrap"},ke={class:"py-4 px-6 whitespace-nowrap"},Ve={class:"w-52"},Me=e("p",{class:"p-2"},"Detail",-1),Ce=["onClick"],De=e("p",{class:"p-2"},"Edit",-1),Be=[De],He=e("p",{class:"p-2"},"Delete",-1),Se=e("div",{class:"flex items-center text-lg"}," Tambah Data ",-1),$e={class:"flex justify-between"},Pe={__name:"Index",props:{data:Object,errors:Object},setup(w){const f=b(!1);function V(){f.value=!1}function _(){f.value=!0}const c=b({search:"",field:"connection",direction:"asc"}),o=M({id:"",connection:"",host:"",port:"",name:"",username:"",password:""}),n=M({connection:"",host:"",port:"",name:"",username:"",password:""}),p=M({connection:"",host:"",port:"",name:"",username:"",password:""}),z=s=>{c.value.field=s,c.value.direction=c.value.direction==="asc"?"desc":"asc",console.log(s)},L=()=>{I.post("/database/add",o,{onSuccess:s=>{console.log(s),f.value=!1},onError:s=>{console.log(s),s.detail.errors&&(n.connection=s.detail.errors.connection?"error":"success",n.host=s.detail.errors.host?"error":"success",n.port=s.detail.errors.port?"error":"success",n.name=s.detail.errors.name?"error":"success",n.username=s.detail.errors.username?"error":"success",n.password=s.detail.errors.password?"error":"success",p.connection=s.detail.errors.connection,p.host=s.detail.errors.host,p.port=s.detail.errors.port,p.name=s.detail.errors.name,p.username=s.detail.errors.username,p.password=s.detail.errors.password)}})},q=s=>{console.log(s),f.value=!0,o.connection=s.connection,o.host=s.host,o.port=s.port,o.name=s.name,o.username=s.username,o.password=s.password},N=b(!1),U=b(!1),j=s=>{if(s){let l=2,t=s.length;return s.substring(0,l)+"*".repeat(t-l)+s.substring(t)}};return(s,l)=>(r(),h(y,null,[i(d(E),{title:"Database"}),i(A,null,{header:a(()=>[R]),default:a(()=>[e("div",W,[e("div",X,[e("div",ee,[e("div",se,[$(e("input",{type:"search","onUpdate:modelValue":l[0]||(l[0]=t=>c.value.search=t),"aria-label":"Search",placeholder:"Search...",class:"block w-full rounded-md border-gray-300 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},null,512),[[F,c.value.search]])]),e("div",te,[i(d(C),{onClick:_},{default:a(()=>[m("Add New")]),_:1})])]),e("div",ae,[e("div",oe,[e("table",ne,[e("thead",le,[e("tr",null,[(r(),h(y,null,D(["connection","host","port","name","username","password"],t=>e("th",de,[e("span",{class:"inline-flex py-3 px-6 w-full justify-between",onClick:H=>z(t)},[m(u(t)+" ",1),c.value.field===t&&c.value.direction==="asc"?(r(),h("svg",re,ue)):x("",!0),c.value.field===t&&c.value.direction==="desc"?(r(),h("svg",pe,he)):x("",!0)],8,ie)])),64)),_e])]),e("tbody",fe,[(r(!0),h(y,null,D(w.data.data,(t,H)=>(r(),h("tr",{key:t.id},[e("td",we,u(t.connection),1),e("td",ve,u(t.host),1),e("td",xe,u(t.port),1),e("td",ge,u(t.name),1),e("td",ye,u(t.username),1),e("td",be,u(j(t.password)),1),e("td",ke,[i(d(Y),{text:"Action","align-to-end":""},{default:a(()=>[e("div",Ve,[i(d(B),{href:`/database/detail/${t.id}`},{default:a(()=>[Me]),_:2},1032,["href"]),e("a",{href:"javascript:void(0)",onClick:ze=>q(t)},Be,8,Ce),i(d(B),{method:"delete",href:`/database/destroy/${t.id}`},{default:a(()=>[He]),_:2},1032,["href"])])]),_:2},1024)])]))),128))])]),i(K,{class:"mt-10",links:w.data.links},null,8,["links"])])])]),f.value?(r(),k(d(Q),{key:0,onClose:V,persistent:""},{header:a(()=>[Se]),body:a(()=>[i(d(O),{modelValue:o.connection,"onUpdate:modelValue":l[1]||(l[1]=t=>o.connection=t),options:[{value:"mysql",name:"MySQL"},{value:"pgsql",name:"PostgreSQL"}],label:"Select DB connection","validation-status":n.connection},{validationMessage:a(()=>[m(u(p.connection),1)]),_:1},8,["modelValue","validation-status"]),i(d(g),{modelValue:o.host,"onUpdate:modelValue":l[2]||(l[2]=t=>o.host=t),required:"",placeholder:"e.g localhost or 127.0.0.1",label:"DB Host","validation-status":n.host},v({_:2},[n.host?{name:"validationMessage",fn:a(()=>[m(u(p.host),1)]),key:"0"}:void 0]),1032,["modelValue","validation-status"]),i(d(g),{modelValue:o.port,"onUpdate:modelValue":l[3]||(l[3]=t=>o.port=t),required:"",placeholder:"e.g 3306 or 5432",label:"DB Port","validation-status":n.port},v({_:2},[n.port?{name:"validationMessage",fn:a(()=>[m(u(p.port),1)]),key:"0"}:void 0]),1032,["modelValue","validation-status"]),i(d(g),{modelValue:o.name,"onUpdate:modelValue":l[4]||(l[4]=t=>o.name=t),required:"",placeholder:"e.g db_yayasan",label:"DB Name","validation-status":n.name},v({_:2},[n.name?{name:"validationMessage",fn:a(()=>[m(u(p.name),1)]),key:"0"}:void 0]),1032,["modelValue","validation-status"]),i(d(g),{modelValue:o.username,"onUpdate:modelValue":l[5]||(l[5]=t=>o.username=t),required:"",label:"DB Username","validation-status":n.username},v({_:2},[n.username?{name:"validationMessage",fn:a(()=>[m(u(p.username),1)]),key:"0"}:void 0]),1032,["modelValue","validation-status"]),i(d(g),{modelValue:o.password,"onUpdate:modelValue":l[6]||(l[6]=t=>o.password=t),required:"",label:"DB Password","validation-status":n.password},v({_:2},[n.password?{name:"validationMessage",fn:a(()=>[m(u(p.password),1)]),key:"0"}:void 0]),1032,["modelValue","validation-status"])]),footer:a(()=>[e("div",$e,[i(d(C),{onClick:V,color:"alternative"},{default:a(()=>[m(" Cancel ")]),_:1}),i(d(C),{onClick:L,color:"green"},{default:a(()=>[m(" Submit ")]),_:1})])]),_:1})):x("",!0),U.value?(r(),k(d(S),{key:1,type:"warning",class:"fixed top-5 right-5",closable:""},{default:a(()=>[m(" Improve password difficulty. ")]),_:1})):x("",!0),N.value?(r(),k(d(S),{key:2,type:"success",class:"fixed top-5 right-5",closable:""},{default:a(()=>[m(" Item moved successfully. ")]),_:1})):x("",!0)])]),_:1})],64))}};export{Pe as default};
